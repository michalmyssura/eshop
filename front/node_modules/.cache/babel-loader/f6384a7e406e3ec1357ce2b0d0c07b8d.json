{"ast":null,"code":"import { LOGIN_FAIL, LOGIN_SUCCESS, LOGIN_REQUEST, CLEAR_ERRORS, REGISTER_USER_FAIL, REGISTER_USER_REQUEST, REGISTER_USER_SUCCESS, LOAD_USER_REQUEST, LOAD_USER_FAIL, LOAD_USER_SUCCESS, LOGOUT_FAIL, LOGOUT_SUCCESS, UPDATE_PASSWD_FAIL, UPDATE_PASSWD_REQUEST, UPDATE_PASSWD_SUCCESS, UPDATE_PASSWD_RESET, UPDATE_PROFILE_SUCCESS, UPDATE_PROFILE_FAIL, UPDATE_PROFILE_REQUEST } from \"../constant/userConstants\";\nimport axios from \"axios\";\nexport const login = (email, password) => async dispatch => {\n  try {\n    dispatch({\n      type: LOGIN_REQUEST\n    });\n    const config = {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n    const {\n      data\n    } = await axios.post('/api/v1/login', {\n      email,\n      password\n    }, config);\n    dispatch({\n      type: LOGIN_SUCCESS,\n      payload: data.user\n    });\n  } catch (error) {\n    dispatch({\n      type: LOGIN_FAIL,\n      payload: error.response.data.message\n    });\n  }\n}; // REGISTER USER\n\nexport const register = userData => async dispatch => {\n  try {\n    dispatch({\n      type: REGISTER_USER_REQUEST\n    });\n    const config = {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    };\n    const {\n      data\n    } = await axios.post('/api/v1/register', userData, config);\n    dispatch({\n      type: REGISTER_USER_SUCCESS,\n      payload: data.user\n    });\n  } catch (error) {\n    dispatch({\n      type: REGISTER_USER_FAIL,\n      payload: error.response.data.message\n    });\n  }\n};\nexport const loadUser = () => async dispatch => {\n  try {\n    dispatch({\n      type: LOAD_USER_REQUEST\n    });\n    const {\n      data\n    } = await axios.get('/api/v1/me');\n    dispatch({\n      type: LOAD_USER_SUCCESS,\n      payload: data.user\n    });\n  } catch (error) {\n    dispatch({\n      type: LOAD_USER_FAIL,\n      payload: error.response.data.message\n    });\n  }\n};\nexport const logout = () => async dispatch => {\n  try {\n    await axios.get('/api/v1/logout');\n    dispatch({\n      type: LOGOUT_SUCCESS\n    });\n  } catch (error) {\n    dispatch({\n      type: LOGOUT_FAIL,\n      payload: error.response.data.message\n    });\n  }\n};\nexport const clearErrors = () => async dispatch => {\n  dispatch({\n    type: CLEAR_ERRORS\n  });\n};\nexport const updateProfile = userData => async dispatch => {\n  try {\n    dispatch({\n      type: UPDATE_PROFILE_REQUEST\n    });\n    const config = {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    };\n    const {\n      data\n    } = await axios.put('/api/v1/me/update', userData, config);\n    dispatch({\n      type: UPDATE_PROFILE_SUCCESS,\n      payload: data.success\n    });\n  } catch (error) {\n    dispatch({\n      type: UPDATE_PROFILE_FAIL,\n      payload: error.response.data.message\n    });\n  }\n};","map":{"version":3,"sources":["/Users/michalmyssura/Desktop/projektdyplomowy/front/src/actions/userAction.js"],"names":["LOGIN_FAIL","LOGIN_SUCCESS","LOGIN_REQUEST","CLEAR_ERRORS","REGISTER_USER_FAIL","REGISTER_USER_REQUEST","REGISTER_USER_SUCCESS","LOAD_USER_REQUEST","LOAD_USER_FAIL","LOAD_USER_SUCCESS","LOGOUT_FAIL","LOGOUT_SUCCESS","UPDATE_PASSWD_FAIL","UPDATE_PASSWD_REQUEST","UPDATE_PASSWD_SUCCESS","UPDATE_PASSWD_RESET","UPDATE_PROFILE_SUCCESS","UPDATE_PROFILE_FAIL","UPDATE_PROFILE_REQUEST","axios","login","email","password","dispatch","type","config","headers","data","post","payload","user","error","response","message","register","userData","loadUser","get","logout","clearErrors","updateProfile","put","success"],"mappings":"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","sourcesContent":["import {\n    LOGIN_FAIL,\n    LOGIN_SUCCESS,\n    LOGIN_REQUEST,\n    CLEAR_ERRORS,\n    REGISTER_USER_FAIL,\n    REGISTER_USER_REQUEST,\n    REGISTER_USER_SUCCESS,\n    LOAD_USER_REQUEST,\n    LOAD_USER_FAIL,\n    LOAD_USER_SUCCESS,\n    LOGOUT_FAIL,\n    LOGOUT_SUCCESS,\n    UPDATE_PASSWD_FAIL,\n    UPDATE_PASSWD_REQUEST,\n    UPDATE_PASSWD_SUCCESS,\n    UPDATE_PASSWD_RESET,\n    UPDATE_PROFILE_SUCCESS,\n    UPDATE_PROFILE_FAIL,\n    UPDATE_PROFILE_REQUEST\n} from \"../constant/userConstants\";\nimport axios from \"axios\";\n\nexport const login = (email,password) =>async (dispatch)=>{\n    try {\n        dispatch({\n            type:LOGIN_REQUEST,\n        })\n\n        const config = {\n            headers:{\n                'Content-Type':'application/json'\n            }\n        }\n\n        const {data} = await axios.post('/api/v1/login',{email,password},config)\n\n        dispatch({type:LOGIN_SUCCESS, payload:data.user})\n\n    }\n    catch (error){\n        dispatch({\n            type:LOGIN_FAIL,\n            payload:error.response.data.message\n        })\n    }\n\n\n}\n\n// REGISTER USER\nexport const register = (userData) =>async (dispatch)=>{\n    try {\n        dispatch({\n            type:REGISTER_USER_REQUEST,\n        })\n\n        const config = {\n            headers:{\n                'Content-Type':'multipart/form-data'\n            }\n        }\n\n        const {data} = await axios.post('/api/v1/register',userData,config)\n\n        dispatch({type:REGISTER_USER_SUCCESS, payload:data.user})\n\n    }\n    catch (error){\n        dispatch({\n            type:REGISTER_USER_FAIL,\n            payload:error.response.data.message\n        })\n    }\n\n\n}\n\n\n\nexport const loadUser = () => async (dispatch) => {\n    try {\n\n        dispatch({ type: LOAD_USER_REQUEST })\n\n        const { data } = await axios.get('/api/v1/me')\n\n        dispatch({\n            type: LOAD_USER_SUCCESS,\n            payload: data.user\n        })\n\n    } catch (error) {\n        dispatch({\n            type: LOAD_USER_FAIL,\n            payload: error.response.data.message\n        })\n    }\n}\n\n\nexport const logout = () => async (dispatch) => {\n    try {\n\n        await axios.get('/api/v1/logout')\n\n        dispatch({\n            type: LOGOUT_SUCCESS,\n        })\n\n    } catch (error) {\n        dispatch({\n            type: LOGOUT_FAIL,\n            payload: error.response.data.message\n        })\n    }\n}\n\nexport const clearErrors = () => async (dispatch) =>{\n    dispatch({\n        type:CLEAR_ERRORS\n    })\n}\n\n\nexport const updateProfile = (userData) =>async (dispatch)=>{\n    try {\n        dispatch({\n            type:UPDATE_PROFILE_REQUEST\n        })\n\n        const config = {\n            headers:{\n                'Content-Type':'multipart/form-data'\n            }\n        }\n\n        const {data} = await axios.put('/api/v1/me/update',userData,config)\n\n        dispatch({type:UPDATE_PROFILE_SUCCESS, payload:data.success})\n\n    }\n    catch (error){\n        dispatch({\n            type:UPDATE_PROFILE_FAIL,\n            payload:error.response.data.message\n        })\n    }\n\n\n}\n"]},"metadata":{},"sourceType":"module"}